<template lang="html">
    <!-- 服务列表-->
    <div class="serveIndex serveCommon">
        <div class="serveIndexWrap serveCommonWrap">
            <div class="listWrap">
                <div class="list" v-for="item in serveData">
                    <img :src="item.servicePictureUrl" />
                    <div class="info">
                        <p class="tt">{{item.name}}</p>
                        <p class="desc">{{item.shortDescription}}</p>
                        <p class="iconGroup">
                            <span class="door" v-if="item.isDoorToDoorService">上门</span>
                            <span class="store" v-if="item.isStoreService">门店</span>
                            <span class="link" @click="onExp(item.id)">服务介绍</span>
                        </p>
                        <div class="cart" @click="onAddCart(item.id)"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import headerCart from '../../components/header/headerCart.vue'
import ajax from './../../vueResource.ajax.js'

export default {
    data () {
        return {
            iconType: 'icon-fanhui',
            rightParams: {},
            serveData: []
        }
    },
    components: {
        'header-cart': headerCart
    },
    beforeCreate () {
        this.$store.commit('hideFoot')
    },
    created () {
        if (this.serveData.length <= 0) {
            this.getData('Maintenance')
        }
    },
    methods: {
        getData (type) {
            ajax.ajax({
                'vue': this,
                'port': 'GetServiceProducts',
                'type': 'get',
                'params_url': '?dto.serviceCategory=' + type + '&dto.pageIndex=' + 1 + '&dto.pageSize=10',
                'statusOk': function (res, v) {
                    v.serveData = res.data.data
                },
                'statusError': function (res, v) {
                    // Toast('获取用户信息失败')
                }
            })
        },
        // 服务介绍
        onExp (id) {
            this.$router.push('/serveIntroduce/' + id)
        },
        onAddCart (id) {}
    }
}
</script>

<style lang="stylus" rel="stylesheet/stylus">

</style>
