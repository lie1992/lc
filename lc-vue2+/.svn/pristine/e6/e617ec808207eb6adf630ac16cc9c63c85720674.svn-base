<template lang="html">
    <!-- 预约时间 -->
    <div id="appointment">
        <header-common :title="viewTitle" :iconType="iconType" :rightParams="rightParams" v-on:closeYY="closeYYRel"></header-common>
        <div class="appointmentWrap">
            <div class="dayList">
                <div class="swiper-container"  ref="scrollBar">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" v-for="(item, index) in dateTime">{{dataTxt[index]}}<br>{{item}}</div>
                    </div>
                    <div class="swiper-button-prev iconfont icon-chevron-copy"></div>
                    <div class="swiper-button-next iconfont icon-chevron-copy-copy-copy-copy-copy-copy"></div>
                </div>
            </div>
            <div class="timeList" ref="timeScroll">
                <ul>
                    <li class="dis">8:00</li>
                    <li>8:30</li>
                    <li>9:00</li>
                    <li>9:30</li>
                    <li>8:00</li>
                    <li>8:30</li>
                    <li>9:00</li>
                    <li>9:30</li>
                    <li class="dis">8:00</li>
                    <li>8:30</li>
                    <li>9:00</li>
                    <li>9:30</li>
                    <li>8:00</li>
                    <li>8:30</li>
                    <li>9:00</li>
                    <li>9:30</li>
                </ul>
            </div>
        </div>
    </div>
</template>

<script>
import headerCommon from '../../components/header/headerCommon.vue'
import Swiper from 'swiper'
import '../../../node_modules/swiper/dist/css/swiper.min.css'
import Bscroll from 'better-scroll'
import ajax from './../../vueResource.ajax.js'

export default {
    data () {
        return {
            viewTitle: '预约时间',
            iconType: 'icon-fanhui',
            rightParams: {
                path: 'close',
                closeEmit: 'closeYY'
            },
            dateTime: ['2-10', '2-11', '2-12', '2-13', '2-14', '2-15', '2-16'],
            dataTxt: ['今天', '明天', '后天']
        }
    },
    components: {
        'header-common': headerCommon
    },
    created () {
        this.$nextTick(function () {
            this._initScroll()
        })
        this.getYYdata()
    },
    methods: {
        _initScroll () {
            this.viewScroll = new Swiper(this.$refs.scrollBar, {
                // direction: 'horizontal',
                // slidesPerView: 3,
                // paginationClickable: true,
                // freeMode: true,
                slideToClickedSlide: true,
                centeredSlides: true,
                slidesPerView: 3,
                nextButton: '.swiper-button-next',
                prevButton: '.swiper-button-prev'
            })
            // this.timeScroll = new Bscroll(this.$refs.timeScroll, {
            //     click: true,
            //     scrollY: true
            // })
        },
        getYYdata () {
            var params = {
                // dispatchDate:,
                // duration:,
                // addressId:
            }
        },
        // 关闭预约
        closeYYRel () {
            console.log(1234)
            this.$emit('closeYYInParent')
        }
    },
    beforeCreate () {
        this.$store.commit('hideFoot')
    }
}
</script>

<style lang="stylus" rel="stylesheet/stylus">
#appointment
    position:fixed
    width:100%
    min-height:100%
    z-index:100
    top:0
    background-color:#f5f5f5
    .appointmentWrap
        padding-top:45px
        .dayList
            position:fixed
            width:100%
            top:45px
            left:0
            z-index:2
            span
                position:absolute
                width:30px
                height:55px
                line-height:55px
                text-align:center
                color:#999
                font-size:14px
                z-index:5
            .btnLeft
                left:0
            .btnRight
                right:0
            .swiper-container
                border-bottom:1px solid #ddd
                .swiper-button-prev
                    background:none
                    line-height:45px
                    text-align:center
                .swiper-button-next
                    background:none
                    line-height:45px
                    text-align:center
                .swiper-wrapper
                    .swiper-slide
                        height:45px
                        background-color:#fff
                        padding-top:10px
                        display:block
                        float:left
                        width:33.33%
                        text-align:center
                        font-size:17px
                    .swiper-slide-active
                        color:#dab96e
        .timeList
            margin-top:10px
            padding-left:4%
            position:absolute
            width:96%
            top:100px
            bottom:0
            ul
                overflow:hidden
                li
                    background-color:#fff
                    display:block
                    float:left
                    width:21.5%
                    height:55px
                    text-align:center
                    line-height:55px
                    margin-right:3%
                    margin-bottom:10px
                .dis
                    background-color:#ddd







</style>
