<template lang="html">
    <div class="messageDetail">
        <header-common :title="viewTitle" :iconType="iconType" :rightParams="rightParams" :paths="close" v-on:closeMSGD="closeMSGDRel"></header-common>
        <div class="messageDesc">
            <div class="tt">{{deatil.subject}}</div>
            <div class="tm">{{deatil.date}}</div>
            <div class="desc">
                <p>{{deatil.content}}</p>
            </div>
        </div>
    </div>
</template>

<script>
import headerCommon from 'components/header/headerCommon.vue'
import ajax from './../vueResource.ajax.js'

export default {
    props: {
        deatil: {
            type: Object
        }
    },
    data () {
        return {
            viewTitle: '消息详情',
            iconType: 'icon-fanhui',
            rightParams: {
                path: 'close',
                closeEmit: 'closeMSGD'
            },
            close: 'close'
        }
    },
    beforeCreate () {
        this.$store.commit('hideFoot')
    },
    components: {
        'header-common': headerCommon
    },
    created () {
        this.readyState()
    },
    methods: {
        closeMSGDRel () {
            this.$emit('closeMSGDRelParent')
        },
        readyState () {
            // console.log(this.$route.params)
            ajax.ajax({
                'vue': this,
                'port': 'ReadNotify',
                'type': 'post',
                'req_params': {id: this.deatil.id},
                'statusOk': function (res, v) {
                    console.log(res.data.data)
                },
                'statusError': function (res, v) {
                }
            })
        },
        getData () {
            ajax.ajax({
                'vue': this,
                'port': 'ReadNotify',
                'type': 'post',
                'req_params': {id:this.$route.params.id},
                'statusOk': function (res, v) {
                    console.log(res.data.data)
                },
                'statusError': function (res, v) {
                }
            })
        }
    }
}
</script>

<style lang="css" lang="stylus" rel="stylesheet/stylus">
.messageDesc
    margin-top:45px
    padding:1%
    position:absolute
    top:0
    left:0
    width:98%
    min-height:100%
    background-color:#fff
    .tt
        height:40px
        line-height:40px
        font-size:18px
        color:#000
        overflow:hidden
    .tm
        font-size:15px
        color:#999
    .desc
        margin-top:20px
        padding-left:0
        /*height:50px*/
        line-height:25px
        color:#999
        overflow:hidden
        padding-bottom:60px
        p
            text-indent:2rem
</style>
