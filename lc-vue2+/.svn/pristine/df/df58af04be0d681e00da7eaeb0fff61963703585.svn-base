<template lang="html">
    <!-- 服务门店 -->
    <div id="serveStore">
        <header-common :title="viewTitle" :iconType="iconType" :rightParams="rightParams"></header-common>
        <div class="serveStoreWrap">
            <div class="btnWrap">
                <button @click="$router.push('/serve/index')">尚门理车上门服务</button>
            </div>
            <div class="storeList">
                <p class="tip">附近的门店</p>
                <div class="list" v-for="item in storeData">
                    <img :src="item.pictureUrl" class="showImg">
                    <div class="info" id="item.id">
                        <p>{{item.name}}</p>
                        <p>
                            <span class="grade">
                                <i class="iconfont icon-xing sel"></i>
                                <i class="iconfont icon-xing"></i>
                                <i class="iconfont icon-xing"></i>
                                <i class="iconfont icon-xing"></i>
                                <i class="iconfont icon-xing"></i>
                            </span>
                            <span>已服务车次:{{item.serviceCount}}</span>
                            <span class="klm">{{item.distance>1000?(item.distance/1000).toFixed(1):item.distance}}{{item.distance>1000?'km':'m'}}</span>
                        </p>
                        <p>{{item.detailAddress}}</p>
                    </div>
                </div>
                <!-- <div class="list">
                    <img src="../../assets/images/test2.png" class="showImg">
                    <div class="info">
                        <p>自由行汽车快修(球山花苑店)</p>
                        <p>
                            <span class="grade">
                                <i class="iconfont icon-xing sel"></i>
                                <i class="iconfont icon-xing"></i>
                                <i class="iconfont icon-xing"></i>
                                <i class="iconfont icon-xing"></i>
                                <i class="iconfont icon-xing"></i>
                            </span>
                            <span>已服务车次:10000</span>
                            <span class="klm">1.2km</span>
                        </p>
                        <p>温州市鹿城区学院路7号</p>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
</template>

<script>
import headerCommon from '../../components/header/headerCommon.vue'
import ports from './../../port.js'

export default {
    data () {
        return {
            viewTitle: '浙江创意园',
            iconType: 'icon-fanhui',
            rightParams: {},
            storeData: []
        }
    },
    beforeCreate () {
        this.$store.commit('hideFoot')
        // 轮播图
        var that = this
        var currCarId = '1'
        var pageIndex = 1
        var params = '?dto.longitude=' + window.sessionStorage.lng +
        '&dto.latitude=' + window.sessionStorage.lat +
        '&dto.carId=' + currCarId + 'dto.pageIndex' + pageIndex +
        '&dto.pageSize=10'
        this.$http.get(ports.port.GetStores + params).then((res) => {
            console.log(res)
            if (res.data.success === true) {
                this.storeData = res.data.data
            } else {
            }
        })
    },
    components: {
        'header-common': headerCommon
    }
}
</script>

<style lang="stylus" rel="stylesheet/stylus">
#serveStore
    .serveStoreWrap
        padding-top:45px
        .btnWrap
            /*height:80px*/
            background-color:#fff
            border-bottom:1px solid #ddd
            button
                width: 94%
                margin: 10px 3% 10px 3%
                background-color: #c7a770
                height: 44px
                line-height: 44px
                color: #fff
                border: none
                font-size: 18px
        .storeList
            .tip
                background-color:#f1f1f1
                line-height:32px
                padding-left:10px
            .list
                padding-left:115px
                padding-top:10px
                position:relative
                background-color:#fff
                height:85px
                border-bottom:1px solid #ddd
                .showImg
                    width:100px
                    height:75px
                    position:absolute
                    left:10px
                    top:10px
                p
                    &:first-child
                        width:100%
                        white-space:nowrap
                        overflow:hidden
                        text-overflow:ellipsis
                        color:#333
                        margin-bottom:10px
                    &:nth-child(2)
                        width:100%
                        font-size:14px
                        color:#999
                        position:relative
                        margin-bottom:10px
                        .grade
                            display:inline-block
                            height:13px
                            line-height:13px
                            vertical-align:top
                            letter-spacing: -1px
                            i
                                font-size:14px
                                color:#ccc
                            .sel
                                color:#ffb400
                        .klm
                            position:absolute
                            right:5px
                    &:last-child
                        color:#999
                        white-space:nowrap
                        overflow:hidden
                        text-overflow:ellipsis

@media screen and (max-width: 374px)
    #serveStore
        .serveStoreWrap
            .storeList
                .tip
                    padding-left:10px
                .list
                    padding-left:100px
                    padding-top:10px
                    position:relative
                    background-color:#fff
                    height:78px
                    border-bottom:1px solid #ddd
                    .showImg
                        width:90px
                        height:67.5px
                        position:absolute
                        left:5px
                        top:10px
                    p
                        &:first-child
                            width:100%
                            white-space:nowrap
                            overflow:hidden
                            text-overflow:ellipsis
                            color:#333
                            margin-bottom:10px
                        &:nth-child(2)
                            width:100%
                            font-size:13px
                            color:#999
                            position:relative
                            margin-bottom:10px
                            .grade
                                display:inline-block
                                height:13px
                                line-height:13px
                                vertical-align:top
                                letter-spacing: -2px
                                i
                                    font-size:12px
                                    color:#ccc
                                .sel
                                    color:#ffb400
                            .klm
                                position:absolute
                                right:5px
                        &:last-child
                            color:#999
                            white-space:nowrap
                            overflow:hidden
                            text-overflow:ellipsis




</style>
